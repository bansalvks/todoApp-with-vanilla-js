"use strict";var KeysConst={TODO_LIST:"TODO_LIST"};
"use strict";function TaskModel(t,e){this.id=(new Date).getTime(),this.text=t,this.isDone=e}
"use strict";function TodoServices(){this.tasks=[],this.add=function(t){this.tasks.push(t),this.notify()},this.remove=function(s){this.tasks=this.tasks.filter(function(t){return t.id!==s}),this.notify()},this.update=function(s,t,i){var n=this.tasks.find(function(t){return t.id===s});n.text=t||n.text,n.isDone=void 0!==i?i:n.isDone,this.notify()},this.getAll=function(){return this.tasks},this.subscribers=[],this.addEventListener=function(t){this.subscribers.push(t)},this.removeEventListener=function(t){},this.notify=function(){this.subscribers.forEach(function(t){t()})}}
"use strict";var TodoUiService={renderTasks:function(r,e,a,o,u){var l=this;r.innerHTML="",e.forEach(function(n){var e=document.createElement("button"),t=document.createElement("input");t.setAttribute("type","checkbox");var i=document.createElement("button");e.innerHTML="Edit",t.innerHTML="Done",i.innerHTML="Remove";var d=document.createElement("input");d.value=n.text,t.checked=n.isDone;var c=document.createElement("li");c.appendChild(t),c.appendChild(d),c.appendChild(e),c.appendChild(i),e.addEventListener("click",function(e){a(n.id,d.value)}.bind(l)),i.addEventListener("click",function(e){o(n.id)}.bind(l)),t.addEventListener("click",function(e){u(n.id,t.checked)}.bind(l)),r.appendChild(c)})}};
"use strict";var newTaskInput=null,addTaskButton=null,todoListUl=null,todoService=new TodoServices,updateTaskHandler=function(e,t){console.log(event),todoService.update(e,t)},doneTaskHandler=function(e){todoService.remove(e)},deleteTaskHandler=function(e,t){todoService.update(e,void 0,t)},onTodoListDataChange=function(){var e=todoService.getAll();TodoUiService.renderTasks(todoListUl,e,updateTaskHandler,doneTaskHandler,deleteTaskHandler)};todoService.addEventListener(onTodoListDataChange);var addTaskButtonClick=function(e){console.log("button clicked");var t=newTaskInput.value,n=new TaskModel(t,!1);todoService.add(n),newTaskInput.value=""};function DOMContentLoadedCallback(){addTaskButton=document.getElementById("addTaskButton"),newTaskInput=document.getElementById("newTaskInput"),todoListUl=document.getElementById("todoListUl"),addTaskButton.addEventListener("click",addTaskButtonClick)}document.addEventListener("DOMContentLoaded",DOMContentLoadedCallback);